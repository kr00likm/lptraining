<html>
  <head>
   
    <!-- BEGIN LivePerson Monitor. -->
    <script type="text/javascript">
      (window.lpTag = window.lpTag || {}),
        "undefined" == typeof window.lpTag._tagCount
          ? ((window.lpTag = {
              wl: lpTag.wl || null,
              scp: lpTag.scp || null,
              site: "51900244" || "",
              section: lpTag.section || "",
              tagletSection: lpTag.tagletSection || null,
              autoStart: lpTag.autoStart !== !1,
              ovr: lpTag.ovr || {},
              _v: "1.10.0",
              _tagCount: 1,
              protocol: "https:",
              events: {
                bind: function (t, e, i) {
                  lpTag.defer(function () {
                    lpTag.events.bind(t, e, i);
                  }, 0);
                },
                trigger: function (t, e, i) {
                  lpTag.defer(function () {
                    lpTag.events.trigger(t, e, i);
                  }, 1);
                },
              },
              defer: function (t, e) {
                0 === e
                  ? ((this._defB = this._defB || []), this._defB.push(t))
                  : 1 === e
                  ? ((this._defT = this._defT || []), this._defT.push(t))
                  : ((this._defL = this._defL || []), this._defL.push(t));
              },
              load: function (t, e, i) {
                var n = this;
                setTimeout(function () {
                  n._load(t, e, i);
                }, 0);
              },
              _load: function (t, e, i) {
                var n = t;
                t ||
                  (n =
                    this.protocol +
                    "//" +
                    (this.ovr && this.ovr.domain
                      ? this.ovr.domain
                      : "lptag.liveperson.net") +
                    "/tag/tag.js?site=" +
                    this.site);
                var o = document.createElement("script");
                o.setAttribute("charset", e ? e : "UTF-8"),
                  i && o.setAttribute("id", i),
                  o.setAttribute("src", n),
                  document.getElementsByTagName("head").item(0).appendChild(o);
              },
              init: function () {
                (this._timing = this._timing || {}),
                  (this._timing.start = new Date().getTime());
                var t = this;
                window.attachEvent
                  ? window.attachEvent("onload", function () {
                      t._domReady("domReady");
                    })
                  : (window.addEventListener(
                      "DOMContentLoaded",
                      function () {
                        t._domReady("contReady");
                      },
                      !1
                    ),
                    window.addEventListener(
                      "load",
                      function () {
                        t._domReady("domReady");
                      },
                      !1
                    )),
                  "undefined" === typeof window._lptStop && this.load();
              },
              start: function () {
                this.autoStart = !0;
              },
              _domReady: function (t) {
                this.isDom ||
                  ((this.isDom = !0),
                  this.events.trigger("LPT", "DOM_READY", { t: t })),
                  (this._timing[t] = new Date().getTime());
              },
              vars: lpTag.vars || [],
              dbs: lpTag.dbs || [],
              ctn: lpTag.ctn || [],
              sdes: lpTag.sdes || [],
              hooks: lpTag.hooks || [],
              identities: lpTag.identities || [],
              ev: lpTag.ev || [],
            }),
            lpTag.init())
          : (window.lpTag._tagCount += 1);
    </script>
    <!-- END LivePerson Monitor. -->
   
    <title>LP-Brand</title>
  </head>
  <body>
   <script>
     // var lpTag = {};
      //lpTag.identities = [];
 
      lpTag.identities.push(identityFn);
      function identityFn(callback) {
        
        callback({
         /* "iss": "https://jwt.io/",
          "sub": "1234567890",
          "acr": "loa1"*/
          
        /*  "sub": "+972-3-5555-555", 
           "iss": "https://jwt.io",
            "aud": "acc:qa57221676",
            "exp": 2034971930, 
               "iat": 1471899942, 
               "given_name": "Eitan", 
                  "acr": "loa1"*/
          
          "sub": "1234567890", 
           "iss": "https://kr00likm.github.io/lptraining/auth.html",
          //  "aud": "acc:qa57221676",
           "exp": 2034971930, 
             "iat": 1471899942, 
              // "given_name": "Eitan", 
                  "acr": "loa1"
          
          
          
        });
        console.log("inside identity fn");
      }
 
             function lpGetAuthenticationToken(callback) {
                          var id_token =
                              "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwiaXNzIjoiaHR0cHM6Ly9rcjAwbGlrbS5naXRodWIuaW8vbHB0cmFpbmluZy9hdXRoLmh0bWwiLCJleHAiOjIwMzQ5NzE5MzAsImlhdCI6MTQ3MTg5OTk0MiwiYWNyIjoibG9hMSJ9.ey7WS0QE5xgmc0lupajRZExG5SjfMiclABIcw8jxdUpb6sRByerF9wvXvbOOG2h1uq14y2DPLDSq3btqrPEAIIJPy0w2AjF0ugfmeGl_R8JDdw4UJCUL-tfRwpQ3g-cdN3MLosezHV6ZA8s3JGXLVfHeyyo9Mgptyd_P4EFbjuh1AQ_pocXdNkFmG3nyNYV8ED7SrMGMxZ20bHpbQk0SYQ7XQ9fDBiMkRx51262Fw5GT8GN2xC0FhO5quYexRY7hhiR4XRuavgV4oJE0KEZNL8tdNtMiGm09rpMqsSCTZm6LgaQOLnmakGp6KaH5Ou2oyQTnQH2Yn-947u6IyJf0Bg";
      //  "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIrOTcyLTMtNTU1NS01NTUiLCJpc3MiOiJodHRwczovL2p3dC5pbyIsImF1ZCI6ImFjYzpxYTU3MjIxNjc2IiwiZXhwIjoyMDM0OTcxOTMwLCJpYXQiOjE0NzE4OTk5NDIsImdpdmVuX25hbWUiOiJFaXRhbiIsImFjciI6ImxvYTEifQ.n9hYTeaeS03lccbdNnXMOpgZisHfJm9qrjZZhwX0vkC-eOafPnn4rqqqXL9aYJv_rvdSVKK_TFufITX_W9aDpyls9BFlvZTKjTjADohP1KGl-f8tDDrLQrrLrfN4ESPudOhR0_BS58AxiuaXePzAdPLsUmQx40IMNwkUjjEEM2dML7nQM5v0DRypaDuNpS3-6W_OBLghEnzr2wwmWjpOC1S3tT_U70lPLoCp9i5dYbs8VO9HRvzQ0I1Mbh58qVGGVNcolljXc0xicwlxN_65xad3iOP6DeQJyNH5-NYSnIISjTNjZoG2Dfzzwr5QXr_3h9ABgmYGfss4lRA4_5aBGw";
            console.log("LP asked for id_token or auth code in Code Flow");
            console.log(id_token);
            // Do your magic...
            // On Success
            callback(id_token);
            // On Failure
           // callback("", "error reason");
        }
     console.log("test");
      </script>
    <h1>Authenticated space.</h1>
   
  </body>
</html>
